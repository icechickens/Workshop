# 暗記カードアプリ

モダンなUIデザインを採用した高機能な暗記カードアプリケーションです。学習効率を最大化するための様々な機能を搭載しています。

## 🔧 アーキテクチャ（リファクタリング済み）

### モジュール化設計
- **ES6モジュール**: コードを機能別に分割し、保守性を向上
- **クラスベース設計**: 責任分離の原則に基づいた設計
- **サービス層**: データ操作とビジネスロジックの分離
- **設定管理**: 設定値の一元管理

### ファイル構成
```
Workshop/
├── src/
│   ├── js/
│   │   ├── models/
│   │   │   └── Card.js              # カードモデル
│   │   ├── services/
│   │   │   ├── CardService.js       # カード操作サービス
│   │   │   └── SettingsService.js   # 設定管理サービス
│   │   ├── components/
│   │   │   └── UIComponents.js      # UIコンポーネント
│   │   ├── config.js                # 設定定数
│   │   ├── utils.js                 # ユーティリティ関数
│   │   ├── FlashcardApp.js          # メインアプリケーション
│   │   ├── globalFunctions.js       # グローバル関数
│   │   └── main.js                  # エントリーポイント
│   └── css/
│       ├── base.css                 # 基本スタイル
│       └── header.css               # ヘッダースタイル
├── index.html                       # メインHTMLファイル
├── style.css                        # メインスタイルシート
└── README.md                        # このファイル
```

## 🌟 主な機能

### 📚 基本機能
- **カード作成**: 問題と解説のペアでカードを作成
- **フラッシュカード**: 問題をクリックして解説を表示/非表示
- **習得管理**: 学習中/習得済みの状態管理
- **編集機能**: ダブルクリックでカードの内容を編集
- **削除機能**: 不要なカードの削除

### 🔍 検索機能
- **リアルタイム検索**: 入力と同時に検索結果を表示
- **全文検索**: 問題と解説の両方から検索
- **ハイライト表示**: 検索キーワードを視覚的に強調
- **大文字小文字無視**: 英数字の大文字小文字を区別しない検索

### 📊 フィルタリング
- **すべて**: 全カードを表示
- **学習中**: 未習得のカードのみ表示
- **習得済み**: 習得済みのカードのみ表示
- **検索結果**: 検索結果に対してさらにフィルター適用可能

### 🔄 ソート機能
- **登録日時順**: カードを作成日時でソート
- **更新日時順**: カードを最終更新日時でソート
- **昇順/降順切替**: 各ソート条件で昇順/降順を切り替え可能
- **ソート状態表示**: 現在のソート条件と方向を視覚的に表示

### 🎛️ 一括操作
- **すべて展開**: 全カードの解説を一括表示
- **すべて閉じる**: 展開されたカードを一括で閉じる
- **習得済み削除**: 習得済みカードの一括削除

### 🧠 忘却曲線機能
- **常時有効**: デフォルトで常に有効化された忘却曲線機能
- **自動復習**: 設定した間隔で習得済みカードが学習中に戻る
- **復習スケジュール**: 次回復習日の表示
- **カスタマイズ可能**: 復習間隔の個別設定
- **通知機能**: 復習カードの通知表示
- **学習回数表示**: 各カードの学習回数を表示

### ⚙️ 設定機能
- **忘却曲線設定**: 復習回数と間隔のカスタマイズ
- **復習回数設定**: 1〜10回の範囲で設定可能
- **通知設定**: 復習通知の有効/無効
- **ダークモード**: 目の疲れを軽減する暗い色調のテーマ

## 🎨 UIデザイン

### テクノロジーデザインシステム
- **CSS変数**: 一貫したカラーパレットとスペーシング
- **テクノロジーグラデーション**: 未来的な青と紫のグラデーション効果
- **グロー効果**: 光る要素とインタラクション
- **アニメーション**: 洗練された動きと微妙な効果
- **スキャンライン**: 未来的なスキャンラインアニメーション

### カラーパレット
- **ライトモード**
  - **プライマリ**: 青-シアンのグラデーション (#3a7bd5 → #00d2ff)
  - **セカンダリ**: 紫-青のグラデーション (#6a11cb → #2575fc)
  - **成功**: シアン-緑のグラデーション (#0cebeb → #20e3b2)
  - **警告**: オレンジ-黄のグラデーション (#f2994a → #f2c94c)
  - **危険**: 赤-オレンジのグラデーション (#ff416c → #ff4b2b)

- **ダークモード**
  - **プライマリ**: シアン-青のグラデーション (#00c6ff → #0072ff)
  - **セカンダリ**: 紫-深紫のグラデーション (#bc00dd → #7d00b9)
  - **成功**: シアン-青のグラデーション (#00f2fe → #4facfe)
  - **警告**: 黄-オレンジのグラデーション (#f7b733 → #fc4a1a)
  - **危険**: 赤-オレンジのグラデーション (#ff416c → #ff4b2b)

### インタラクション
- **ホバー効果**: 滑らかな変形とシャドウ
- **アクティブ状態**: 押下時のフィードバック
- **アニメーション**: cubic-bezier による自然な動き
- **フォーカス**: リング状のフォーカス表示

## 🚀 技術仕様

### フロントエンド
- **HTML5**: セマンティックなマークアップ
- **CSS3**: モダンなスタイリング（CSS変数、Flexbox、Grid）
- **JavaScript (ES6+)**: モジュールベースの設計
- **ローカルストレージ**: データの永続化

### アーキテクチャパターン
- **MVC パターン**: Model-View-Controller の分離
- **サービス層パターン**: ビジネスロジックの分離
- **モジュールパターン**: ES6モジュールによる分割
- **設定パターン**: 設定値の一元管理

### 主要クラス

#### Card（カードモデル）
- カードデータの構造化
- カード操作メソッド（更新、完了状態切り替えなど）
- 検索・フィルタリング機能
- 復習スケジュール管理

#### CardService（カードサービス）
- カードのCRUD操作
- ローカルストレージとの連携
- フィルタリング・ソート機能
- 忘却曲線の管理

#### SettingsService（設定サービス）
- 各種設定の管理
- 設定の永続化
- バリデーション機能

#### UIComponents（UIコンポーネント）
- カードレンダリング
- モーダル・フィルター表示
- 統計情報表示

#### FlashcardApp（メインアプリケーション）
- アプリケーション全体の制御
- イベント管理
- 画面遷移制御

### データ構造
```javascript
{
  id: Number,              // 一意のID
  displayId: Number,       // 表示用ID（連番）
  question: String,        // 問題（最大50文字）
  answer: String,          // 解説（最大200文字）
  tags: Array,             // タグの配列
  completed: Boolean,      // 習得状態
  favorite: Boolean,       // お気に入り状態
  createdAt: String,       // 作成日時（ISO形式、時分秒を含む）
  updatedAt: String,       // 更新日時（ISO形式、時分秒を含む）
  completedAt: String,     // 習得日時（ISO形式、時分秒を含む）
  reviewCount: Number,     // 復習回数
  nextReviewDate: String,  // 次回復習日（ISO形式）
  lastCompletedAt: String, // 最終習得日時（ISO形式、時分秒を含む）
  relatedCards: Array      // 関連カードIDの配列
}
```

## 📱 レスポンシブ対応

### ブレークポイント
- **モバイル**: 768px以下
- **タブレット**: 769px - 1024px
- **デスクトップ**: 1025px以上

### モバイル最適化
- **タッチフレンドリー**: 指での操作に適したサイズ
- **縦並びレイアウト**: 小画面での見やすさ
- **スワイプ対応**: タッチジェスチャーサポート

## 🎯 操作方法

### カード作成
1. 問題フィールドに問題を入力（最大50文字）
2. 解説フィールドに解説を入力（最大200文字、任意）
3. 「カード追加」ボタンをクリックまたはEnterキー

### カード操作
- **詳細表示**: 問題部分をシングルクリック（フラッシュカードモード時）
- **編集**: カードをダブルクリック
- **習得切り替え**: チェックボックスをクリック
- **削除**: 削除ボタンをクリック

### 検索
1. 検索ボックスにキーワードを入力
2. リアルタイムで検索結果が表示
3. ✕ボタンまたは検索ボックスを空にしてクリア

### 一括操作
- **すべて展開**: 📖ボタンで全カードの解説を表示
- **すべて閉じる**: 📕ボタンで全カードを閉じる
- **習得済み削除**: 「習得済みを削除」ボタン

## ⚙️ 設定

### フラッシュカードモード
- **デフォルト機能**: 問題クリックで解説を表示/非表示（常に有効）
- **全て展開**: デフォルトでは全てのカードが展開状態

### テーマ設定
- **ライトモード**: 明るい色調の未来的テクノロジーテーマ
- **ダークモード**: 暗い色調の未来的テクノロジーテーマ（目の疲れを軽減）
- **グロー効果**: テーマに合わせた光る要素とインタラクション
- **テクノロジーパターン**: 回路基板風の微妙な背景パターン

### 忘却曲線設定
- **常時有効**: 忘却曲線機能は常に有効（設定から切り替え不可）
- **復習回数**: 1〜10回の範囲でカスタマイズ可能
- **復習間隔**: 各回の復習間隔を個別設定
- **通知**: 復習カードの通知表示切り替え
- **自動復習**: 設定間隔での自動復習機能

## 🔧 開発・運用

### ローカル開発
```bash
# サーバー起動
cd /path/to/Workshop
python3 -m http.server 8011

# ブラウザでアクセス
http://localhost:8011
```

### ファイル構成の詳細
```
Workshop/
├── src/                         # ソースコード
│   ├── js/                      # JavaScript モジュール
│   │   ├── models/              # データモデル
│   │   ├── services/            # ビジネスロジック
│   │   ├── components/          # UIコンポーネント
│   │   ├── config.js            # 設定定数
│   │   ├── utils.js             # ユーティリティ関数
│   │   ├── FlashcardApp.js      # メインアプリケーション
│   │   ├── globalFunctions.js   # グローバル関数
│   │   └── main.js              # エントリーポイント
│   └── css/                     # スタイルシート
│       ├── base.css             # 基本スタイル
│       └── header.css           # ヘッダースタイル
├── index.html                   # メインHTMLファイル
├── style.css                    # メインスタイルシート
└── README.md                    # このファイル
```

### データ保存
- **ローカルストレージ**: ブラウザのローカルストレージに自動保存
- **キー**: 
  - `flashcards`: カードデータ
  - `forgettingSettings`: 忘却曲線設定
  - `flashcardSettings`: フラッシュカード設定
  - `darkModeSettings`: ダークモード設定
  - `sortSettings`: ソート設定

### 設定管理
- **CONFIG オブジェクト**: 全ての設定値を一元管理
- **制限値**: 文字数制限、復習回数制限など
- **デフォルト値**: 各設定のデフォルト値を定義

### コード品質
- **モジュール化**: 機能別にファイルを分割
- **型注釈**: JSDocによる型情報の提供
- **エラーハンドリング**: 適切なエラー処理
- **デバウンス処理**: 検索入力の最適化

## 🎓 学習効率化のコツ

### 効果的な使い方
1. **短い問題**: 簡潔で明確な問題を作成
2. **具体的な解説**: 詳細で理解しやすい解説を記述
3. **定期復習**: 忘却曲線機能を活用した定期的な復習
4. **分類管理**: 習得状態での適切な分類

### 学習フロー
1. **カード作成**: 学習内容をカード化
2. **初回学習**: フラッシュカードモードで学習
3. **習得管理**: 理解度に応じて習得状態を更新
4. **定期復習**: 忘却曲線に基づく復習実施
5. **検索活用**: 特定の内容を素早く検索

## 🧪 開発ガイドライン

### 新機能の追加
1. **データモデルの変更**: `Card.js` にプロパティやメソッドを追加
2. **ビジネスロジック**: 適切なサービスクラス（`CardService.js` または `SettingsService.js`）に機能を追加
3. **UI表示**: `UIComponents.js` にレンダリング機能を追加
4. **イベント処理**: `FlashcardApp.js` にイベントハンドリングを追加
5. **グローバル関数**: `globalFunctions.js` にHTMLから呼び出される関数を追加

### 設定の追加
1. `config.js` の `CONFIG` オブジェクトに新しい設定を追加
2. `SettingsService.js` に設定管理機能を追加
3. 設定画面のUI要素を追加

### スタイルの変更
1. 適切なCSSファイル（`base.css`, `header.css`, `style.css`）を編集
2. CSS変数を活用して一貫性を保つ
3. レスポンシブデザインを考慮

### テスト
各クラスは独立してテスト可能な設計になっています：

```javascript
// 例: CardServiceのテスト
import { CardService } from './src/js/services/CardService.js';

const cardService = new CardService();
const card = cardService.addCard({
    question: 'テスト問題',
    answer: 'テスト解答'
});

console.assert(card.question === 'テスト問題');
console.assert(card.displayId > 0);
```

### コーディング規約
- **命名規則**: キャメルケースを使用
- **コメント**: JSDocによる型注釈を記述
- **エラーハンドリング**: try-catch文を適切に使用
- **モジュール**: 単一責任の原則に従ってクラスを設計

## 🐛 トラブルシューティング

### よくある問題
- **データが消える**: ブラウザのプライベートモードでは保存されません
- **検索が効かない**: 大文字小文字を区別しない部分一致検索です
- **ボタンが反応しない**: ページの再読み込みを試してください

### モジュール関連の問題
- **モジュール読み込みエラー**: ローカルサーバーを使用してアクセスしているか確認
- **CORS エラー**: `file://` プロトコルではなく、HTTPサーバー経由でアクセス
- **ブラウザ対応**: ES6モジュールをサポートしているブラウザを使用

### ブラウザ対応
- **Chrome**: 推奨ブラウザ（ES6モジュール完全対応）
- **Firefox**: 対応
- **Safari**: 対応
- **Edge**: 対応
- **Internet Explorer**: 非対応（ES6モジュール未対応）

## 📝 更新履歴

### v2.0.0 (最新) - リファクタリング版
- ✅ ES6モジュールによるコードの分割とモジュール化
- ✅ クラスベース設計による責任分離の実現
- ✅ サービス層パターンの導入
- ✅ 設定管理の一元化（CONFIG オブジェクト）
- ✅ ユーティリティ関数の分離と再利用性向上
- ✅ UIコンポーネントの統一化
- ✅ エラーハンドリングの改善
- ✅ パフォーマンス最適化（デバウンス処理など）
- ✅ コードの可読性・保守性の大幅向上
- ✅ テスト可能性の向上

### v1.8.0
- ✅ 忘却曲線機能をデフォルトで常に有効化
- ✅ 設定画面から忘却曲線の有効/無効切り替えを削除
- ✅ 学習効率向上のためのUI改善

### v1.7.0
- ✅ フラッシュカードモードをデフォルト機能として設定（設定からの切り替え不可）
- ✅ デフォルトで全てのカードを展開状態に変更
- ✅ 設定画面のUIを簡素化

### v1.6.0
- ✅ カードの学習回数を表示する機能を追加
- ✅ カードのメタ情報に学習回数を追加（登録日、更新日、習得日と同様の表示形式）

### v1.5.0
- ✅ テクノロジー感のあるUIデザインに全面刷新
- ✅ 未来的な背景画像とアイコンを実装
- ✅ グロー効果とアニメーションを強化
- ✅ ダークモードのビジュアルを改善
- ✅ 回路基板風の微妙な背景パターンを追加

### v1.4.0
- ✅ ダークモード機能を追加し、目の疲れを軽減
- ✅ テーマ切り替え設定を追加（ライトモード/ダークモード）
- ✅ CSS変数を活用した効率的なテーマ管理を実装

### v1.3.0
- ✅ 登録日時と更新日時に時分秒の情報を追加し、より正確なソートを実現
- ✅ 表示は従来通り日付のみで、時分秒情報は非表示

### v1.2.0
- ✅ カード一覧のソート機能を追加（登録日時順/更新日時順）
- ✅ ソート方向の切り替え機能（昇順/降順）を実装
- ✅ ソート状態の視覚的表示を追加

### v1.1.0
- ✅ 復習回数のカスタマイズ機能を追加（1〜10回の範囲で設定可能）
- ✅ 復習間隔の動的生成機能を実装
- ✅ 設定画面のUIを改善

### v1.0.0
- ✅ 基本的なカード作成・編集・削除機能
- ✅ フラッシュカード機能
- ✅ 習得状態管理
- ✅ 検索機能（リアルタイム検索、ハイライト表示）
- ✅ フィルタリング機能
- ✅ 一括操作機能
- ✅ 忘却曲線機能
- ✅ モダンUIデザイン
- ✅ レスポンシブ対応
- ✅ ダブルクリック編集
- ✅ 設定機能

## 🤝 貢献

このプロジェクトへの貢献を歓迎します。バグ報告、機能要望、プルリクエストをお待ちしています。

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

---

**暗記カードアプリ** - 効率的な学習のためのモダンなツール
